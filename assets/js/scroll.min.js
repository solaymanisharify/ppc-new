window.addEventListener("load",(()=>{const e=new Lenis;e.on("scroll",ScrollTrigger.update),gsap.ticker.add((t=>{e.raf(1e3*t)})),gsap.ticker.lagSmoothing(0)})),window.addEventListener("load",(()=>{gsap.registerPlugin(ScrollTrigger);const e=gsap.utils.toArray(".panel__card");e.forEach(((e,t)=>{0!==t&&gsap.set(e,{yPercent:135})}));const t=gsap.timeline({scrollTrigger:{trigger:".optimization-container",pin:!0,start:"top 4%",end:()=>`+=${100*e.length}%`,scrub:1,pinSpacing:!0,invalidateOnRefresh:!0},defaults:{ease:"none"}});e.forEach(((e,r)=>{0!==r&&(t.to(e,{yPercent:0,duration:1}),t.fromTo(e,{scale:1.05},{scale:1,duration:.5},">-0.7"))}));const r=document.querySelector(".horizontal"),n=gsap.utils.toArray(".case-study-container");document.querySelector(".sticky-body");const o=gsap.timeline({scrollTrigger:{trigger:".sticky-body",start:"top 3%",end:()=>"+="+r.scrollWidth/2,scrub:.1,pin:!0,invalidateOnRefresh:!0,anticipatePin:1}});function i({sectionName:e,blockSelector:t,imageSelector:r,spacial:n=!1}){const o=gsap.utils.toArray(t),i=gsap.utils.toArray(r),a=document.querySelector(`${e} .amazon-content-img`);ScrollTrigger.matchMedia({"(min-width: 850px)":function(){ScrollTrigger.create({trigger:e,start:"top 14%",endTrigger:o[o.length-1],end:"bottom center",pin:!0,scrub:!0,invalidateOnRefresh:!0}),o.forEach(((e,t)=>{t!==o.length-1&&ScrollTrigger.create({trigger:e,start:"top center",end:"bottom center",scrub:!0,onEnter:()=>r(t),onEnterBack:()=>r(t),invalidateOnRefresh:!0})}));let t=n?90:105;function r(e){o.forEach(((t,r)=>{gsap.to(t,{opacity:r===e?1:.3,duration:.3})})),i.forEach(((t,r)=>{gsap.to(t,{opacity:r===e?1:0,duration:.5,ease:"power1.inOut",overwrite:"auto"})}))}o.forEach(((e,r)=>{gsap.to(e,{y:()=>`-${o.length*t}% + ${100*r}%`,ease:"none",scrollTrigger:{trigger:a,start:"top 20%",endTrigger:o[o.length-1],end:"bottom 65%",scrub:3,invalidateOnRefresh:!0}})}))}})}function a(){ScrollTrigger.refresh()}o.to(r,{x:function(){let e=window.innerWidth-r.offsetWidth;return-(r.scrollWidth-window.innerWidth+e)},ease:"none"}),n.forEach((e=>{gsap.from(e,{scrollTrigger:{trigger:e,containerAnimation:o,start:"left 85%",end:"center 60%",scrub:!0,invalidateOnRefresh:!0}},"<")})),i({sectionName:".amazon-ppc-section",blockSelector:".amazon-ppc-content-text",imageSelector:".amazon-ppc-img img"}),i({sectionName:".amazon-keyword2-section",blockSelector:".amazon-keyword2-content-text",imageSelector:".amazon-keyword2-img img",spacial:!0}),t.add(o),window.addEventListener("load",a),window.addEventListener("resize",a)}));